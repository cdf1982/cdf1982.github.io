<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LifePace Press Kit â€” Build habits that last</title>
  <meta name="description" content="LifePace helps you turn good intentions into lasting results with a modern Liquid Glass design across iPhone, iPad, Mac, and Apple Watch. Widgets, Siri, Shortcuts, and onâ€‘device Apple Intelligence keep you on track every day." />
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" />
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0b0b0c" />

  <!-- Open Graph (add og:image once screenshots are available) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LifePace Press Kit â€” Build habits that last" />
  <meta property="og:description" content="A modern habit tracker for iPhone, iPad, Mac, and Apple Watch. Private iCloud sync. No analytics, no tracking, no ads." />

  <!-- Twitter Card (add image later) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="LifePace Press Kit â€” Build habits that last" />
  <meta name="twitter:description" content="A modern habit tracker for iPhone, iPad, Mac, and Apple Watch. Private iCloud sync. No analytics, no tracking, no ads." />

  <style>
    :root {
      --bg: #ffffff;
      --text: #0b0b0c;
      --muted: #5b6169;
      --accent: #FF2501;
      --accent-2: #FF2501;
      --border: #e6e7eb;
      --card: #f7f8fa;
      --ok: #16a34a;
      --warn: #b45309;
      --maxw: 960px;
      --radius: 14px;
      --shadow: 0 6px 24px rgba(0,0,0,0.06);
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0b0b0c;
        --text: #eef2f7;
        --muted: #a3a8b1;
        --accent: #FF2501;
        --accent-2: #FF2501;
        --border: #1b1c20;
        --card: #0f1115;
        --shadow: 0 8px 28px rgba(0,0,0,0.5);
      }
    }
    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0;
      background: var(--bg);
      color: var(--text);
      font: 16px/1.55 -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .accent { color: var(--accent); }
    .wrap { max-width: var(--maxw); margin: 0 auto; padding: 24px; }

    header { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
    nav a { margin-left: 16px; color: var(--muted); }
    nav a:hover { color: var(--text); }
    .brand { font-weight: 700; letter-spacing: 0.2px; }
    .muted { color: var(--muted); }

    .hero {
      margin-top: 28px;
      padding: 28px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .hero h1 { margin: 0 0 6px; font-size: clamp(28px, 5vw, 40px); line-height: 1.15; }
    .hero-header { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
    .hero-icon img { width: 64px; height: 64px; display: block; }
    @media (max-width: 480px) { .hero-icon img { width: 48px; height: 48px; } }
    .subtitle { font-size: 18px; margin: 6px 0 14px; color: var(--muted); }
    .meta { display: flex; flex-wrap: wrap; gap: 10px 16px; font-size: 14px; color: var(--muted); margin-bottom: 16px; }

    .hero-media { margin-top: 18px; }
    .hero-media img { display: block; width: 100%; height: auto; border-radius: var(--radius); }

    /* Screenshots */
    .shots-group { margin-top: 18px; }
    .shots-title { font-weight: 600; margin: 8px 0; }
    .shots-grid { display: grid; gap: 12px; }
    .shots-grid.cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .shots-grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .shots-grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (max-width: 900px) {
      .shots-grid.cols-4 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .shots-grid.cols-3 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .shots-grid.cols-2 { grid-template-columns: 1fr; }
    }
    @media (max-width: 560px) {
      .shots-grid.cols-4 { grid-template-columns: 1fr; }
      .shots-grid.cols-3 { grid-template-columns: 1fr; }
    }
    .shots-grid img { width: 100%; height: auto; border: 1px solid var(--border); border-radius: var(--radius); }
    .shots-nav { display: flex; gap: 12px; white-space: nowrap; overflow-x: auto; padding-bottom: 6px; margin: 6px 0 12px; border-bottom: 1px solid var(--border); }
    .shots-nav a { color: var(--muted); font-weight: 600; }
    .shots-nav a:hover { color: var(--text); text-decoration: none; }

    .cta { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; margin-top: 12px; }
    .cta .btn { width: 100%; text-align: center; }
    @media (max-width: 560px) { .cta { grid-template-columns: 1fr; } }
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      gap: 8px; padding: 12px 16px; border-radius: 12px;
      font-weight: 600; border: 1px solid var(--border); background: transparent; color: var(--text);
      text-decoration: none; min-width: 44px; min-height: 44px;
    }
    .btn:hover { text-decoration: none; border-color: var(--accent); }
    .btn-primary { background: var(--accent); border-color: var(--accent); color: #fff; }
    .btn-primary[aria-disabled="true"] { opacity: 1; cursor: not-allowed; }
    .btn-secondary { background: transparent; }
    .btn-ghost { color: var(--muted); }
    .badge {
      display: inline-flex; align-items: center; gap: 8px;
      font-size: 12px; padding: 6px 10px; border: 1px solid var(--border);
      border-radius: 999px; background: transparent; color: var(--muted);
    }

    /* App Store CTA styling: black (light) / grey (dark) with white text */
    .cta .btn-secondary { background: #000; color: #fff; border-color: #000; }
    .cta .btn-secondary:hover { filter: brightness(1.05); }
    @media (prefers-color-scheme: dark) {
      .cta .btn-secondary { background: #6b7280; border-color: #6b7280; color: #fff; }
    }

    section { margin-top: 36px; }
    h2 { font-size: 22px; margin: 0 0 14px; }
    .grid {
      display: grid; gap: 12px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    @media (max-width: 720px) { .grid { grid-template-columns: 1fr; } }
    .card {
      border: 1px solid var(--border); border-radius: var(--radius); background: var(--card); padding: 18px; box-shadow: var(--shadow);
    }
    ul.clean { margin: 0; padding-left: 18px; }
    .small { font-size: 14px; }
    .callout { border-left: 4px solid var(--accent-2); padding: 12px 14px; background: var(--card); border-radius: 12px; }

    /* Lightbox */
    body.lb-open { overflow: hidden; }
    .lb[hidden] { display: none !important; }
    .lb {
      position: fixed; inset: 0; z-index: 10000;
      display: flex; align-items: center; justify-content: center;
      background: rgba(0,0,0,0.92); padding: 24px;
    }
    .lb-stage { max-width: 95vw; max-height: 90vh; display: flex; align-items: center; justify-content: center; }
    .lb-img { max-width: 95vw; max-height: 90vh; border-radius: 10px; box-shadow: 0 8px 40px rgba(0,0,0,0.45); }
    .lb-btn { position: absolute; display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.25); background: rgba(255,255,255,0.08); color: #fff; cursor: pointer; }
    .lb-btn:hover { background: rgba(255,255,255,0.18); }
    .lb-close { top: 16px; right: 16px; font-size: 22px; }
    .lb-prev { left: 12px; top: 50%; transform: translateY(-50%); font-size: 28px; }
    .lb-next { right: 12px; top: 50%; transform: translateY(-50%); font-size: 28px; }
    @media (max-width: 560px) {
      .lb-btn { width: 40px; height: 40px; }
      .lb-prev { left: 8px; }
      .lb-next { right: 8px; }
      .lb-close { top: 8px; right: 8px; }
    }

    footer { margin: 36px 0 18px; color: var(--muted); font-size: 14px; }

    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; animation: none !important; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">LifePace Press Kit</div>
      <nav aria-label="Sections">
        <a href="#facts">Quick facts</a>
        <a href="#highlights">Highlights</a>
        <a href="#press">Press</a>
        <a href="#links">Links</a>
        <a href="#screenshots">Screenshots</a>
      </nav>
    </header>

    <main id="content">
      <section class="hero" aria-labelledby="title">
        <div class="hero-header">
          <h1 id="title"><span class="accent">LifePace</span> â€” Build Habits That Last</h1>
          <picture class="hero-icon">
            <source srcset="assets/lifepace_icon_dark.png" media="(prefers-color-scheme: dark)">
            <img src="assets/lifepace_icon.png" alt="LifePace app icon" width="64" height="64">
          </picture>
        </div>
        <p class="subtitle">The habit tracker that turns <span class="accent">good intentions</span> into <span class="accent">lasting results</span></p>
        <div class="meta">
          <span class="badge" title="Launch">Launch: On iOS 26 launch day</span>
          <span class="badge" title="Type">Category: Habit tracking</span>
          <span class="badge" title="Platforms">iPhone, iPad, Mac, and Apple Watch</span>
          <span class="badge" title="Attribution">Made in ðŸ‡®ðŸ‡¹ by<a href="https://cdf1982.com">Cesare Forelli</a></span>
        </div>
        <p class="small muted">
          LifePace helps you create routines that fit your life, stay motivated with clear progress, and enjoy a modern Liquid Glass design.
          Widgets, Siri, Shortcuts, and onâ€‘device Apple Intelligence keep you on track every day.
        </p>
        <div class="cta" role="group" aria-label="Primary calls to action">
          <a class="btn btn-primary" href="https://testflight.apple.com/join/bdYagFR9" target="_blank" rel="noopener">Join TestFlight</a>
          <a class="btn btn-secondary" href="https://apps.apple.com/us/app/lifepace-habit-streaks-tracker/id6751773159">App Store (Coming soon)</a>
        </div>
      </section>

      <section class="hero-media" aria-label="Hero image">
        <img src="assets/LifePace.png" alt="LifePace hero image" />
      </section>

      <section id="facts" aria-labelledby="facts-h">
        <h2 id="facts-h">Quick facts</h2>
        <div class="grid">
          <div class="card">
            <strong>Built for success</strong><br/>
            A new and modern habit tracker designed to make you consistently achieve your goals, big and small
          </div>
          <div class="card">
            <strong>Platforms</strong><br/>
            iPhone, iPad, Mac, Apple Watch with great Shortcuts, Widgets (Lock-screen included) and Complications
          </div>
          <div class="card">
            <strong>Sync & privacy</strong><br/>
            Private iCloud sync. No analytics. No tracking. No ads. And with an optional Face ID unlock for absolute privacy
          </div>
          <div class="card">
            <strong>Built for the 2026 Operating Systems</strong><br/>
            The right amount of cool Liquid Glass design and local Apple Intelligence (with a toggle to turn AI off)
          </div>
          <div class="card">
            <strong>Availability</strong><br/>
            Coming soon to the App Store: LifePace will ship on iOS 26 launch day, with the Mac version released when Tahoe launches
          </div>
          <div class="card">
            <strong>Pricing</strong><br/>
            Free for 1 habit, LifePace Pro unlocks unlimited habits via yearly subscription ($4.99) or lifetime unlock ($12.99 with Family Sharing included)
          </div>
        </div>
      </section>

      <section id="highlights" aria-labelledby="highlights-h">
        <h2 id="highlights-h">Highlights</h2>
        <div class="card">
          <ul class="clean">
            <li>Create and organize habits with smart schedules and reminders</li>
            <li>Oneâ€‘tap completion with streaks, subtle haptics, and gentle sounds</li>
            <li>Skip when needed without guilt or breaking your streak</li>
            <li>A clean dashboard makes the most of Liquid Glass across iPhone, iPad, Mac, and Apple Watch</li>
            <li>Local FoundationModels provide motivating summaries and can recommend habits</li>
            <li>Widgets, Lock Screen, and Watch complications at a glance, powered by Shortcuts</li>
            <li>Choose how to look at your habits with List and Grid mode</li>
            <li>Clear stats and graphs that make progress feel tangible</li>
            <li>Private means private: iCloud sync, no analytics, no ads, no 3rd party code</li>
          </ul>
        </div>
      </section>

      <section id="press" aria-labelledby="press-h">
        <h2 id="press-h">Press</h2>
        <div class="grid">
          <div class="card">
            <strong>Press contact</strong><br/>
            Email: <a href="mailto:support@cdf1982.com">support@cdf1982.com</a>
          </div>
          <div class="card small">
            <strong>Press assets</strong><br/>
            <a href="assets/lifepace_assets_v1.zip" download>Download LifePace Assets v1 (ZIP)</a>
            <div class="small muted" style="margin-top:8px;">Will be updated with App Store screenshots in the coming days</div>
          </div>
          <div class="card small">
            <strong>Quick testing</strong><br/>
            <div class="small muted" style="margin-top:8px;">I appreciate you have <i>lots</i> of apps to test! To make it quicker, the <a href="https://testflight.apple.com/join/bdYagFR9" download>TestFlight</a> beta includes a Developer section in Settings for adding sample habits with completion history</div>
          </div>
        </div>
      </section>

      <section id="links" aria-labelledby="links-h">
        <h2 id="links-h">Links</h2>
        <div class="grid">
          <div class="card">
            <a href="https://testflight.apple.com/join/bdYagFR9" target="_blank" rel="noopener"><strong>TestFlight</strong></a>
          </div>
          <div class="card">
            <a href="https://apps.apple.com/us/app/lifepace-habit-streaks-tracker/id6751773159" target="_blank" rel="noopener"><strong>App Store (Coming soon)</strong></a>
          </div>
          <div class="card">
            <a href="https://cdf1982.com/privacy/lifepace_terms_of_service.html" target="_blank" rel="noopener"><strong>Terms of Service</strong></a>
          </div>
          <div class="card">
            <a href="http://cdf1982.com/privacy/lifepace_privacy_policy.html" target="_blank" rel="noopener"><strong>Privacy Policy</strong></a>
          </div>
          <div class="card">
            <a href="https://apps.apple.com/il/developer/cesare-forelli/id906894503" target="_blank" rel="noopener"><strong>My apps on the App Store</strong></a>
          </div>
          <div class="card">
            <a href="https://cdf1982.com" target="_blank" rel="noopener"><strong>My website</strong></a>
          </div>
          <div class="card">
            <a href="https://iosdev.space/@cdf1982" rel="me" target="_blank"><strong>Me on Mastodon</strong></a>
          </div>
          <div class="card">
            <a href="https://www.instagram.com/millakillapilla/" rel="me" target="_blank"><strong>Milla's Insta</strong></a>
          </div>
        </div>
      </section>

      <section id="screenshots" aria-labelledby="shots-h">
        <h2 id="shots-h">Screenshots</h2>
        <p class="small muted">Below you can find a good amount of preâ€‘release screenshots based on the golden master of LifePace, but I may update some when I prepare the App Store screenshots in the coming days</p>
        <div class="shots-nav" role="navigation" aria-label="Screenshots quick links">
          <a href="#shots-ios">iOS</a> |
          <a href="#shots-ipados">iPadOS</a> |
          <a href="#shots-macos">macOS</a> |
          <a href="#shots-watchos">watchOS</a> |
          <a href="#shots-shortcuts">Shortcuts, Widgets, Lock Screen Widgets and Alwaysâ€‘On Display</a>
        </div>
        <br>
        <div class="shots-group">
          <a id="shots-ios"></a>
          <div class="shots-title">iOS 26 â€” Dark</div>
          <div class="shots-grid cols-3">
            <img src="assets/screenshots/iPhone_Dark_01.png" alt="iPhone Dark screenshot 1" loading="lazy" />
            <img src="assets/screenshots/iPhone_Dark_02.png" alt="iPhone Dark screenshot 2" loading="lazy" />
            <img src="assets/screenshots/iPhone_Dark_03.png" alt="iPhone Dark screenshot 3" loading="lazy" />
            <img src="assets/screenshots/iPhone_Dark_04.png" alt="iPhone Dark screenshot 4" loading="lazy" />
            <img src="assets/screenshots/iPhone_Dark_05.png" alt="iPhone Dark screenshot 5" loading="lazy" />
            <img src="assets/screenshots/iPhone_Dark_06.png" alt="iPhone Dark screenshot 6" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <div class="shots-title">iOS 26 â€” Light</div>
          <div class="shots-grid cols-3">
            <img src="assets/screenshots/iPhone_Light_01.png" alt="iPhone Light screenshot 1" loading="lazy" />
            <img src="assets/screenshots/iPhone_Light_02.png" alt="iPhone Light screenshot 2" loading="lazy" />
            <img src="assets/screenshots/iPhone_Light_03.png" alt="iPhone Light screenshot 3" loading="lazy" />
            <img src="assets/screenshots/iPhone_Light_04.png" alt="iPhone Light screenshot 4" loading="lazy" />
            <img src="assets/screenshots/iPhone_Light_05.png" alt="iPhone Light screenshot 5" loading="lazy" />
            <img src="assets/screenshots/iPhone_Light_06.png" alt="iPhone Light screenshot 6" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <a id="shots-ipados"></a>
          <div class="shots-title">iPadOS 26 â€” Dark</div>
          <div class="shots-grid cols-2">
            <img src="assets/screenshots/iPad_Dark_01.png" alt="iPad Dark screenshot 1" loading="lazy" />
            <img src="assets/screenshots/iPad_Dark_02.png" alt="iPad Dark screenshot 2" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <div class="shots-title">iPadOS 26 â€” Light</div>
          <div class="shots-grid cols-2">
            <img src="assets/screenshots/iPad_Light_01.png" alt="iPad Light screenshot 1" loading="lazy" />
            <img src="assets/screenshots/iPad_Light_02.png" alt="iPad Light screenshot 2" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <a id="shots-macos"></a>
          <div class="shots-title">macOS 26 Tahoe â€” Dark</div>
          <div class="shots-grid cols-2">
            <img src="assets/screenshots/Tahoe_dark_01.jpg" alt="macOS Tahoe Dark screenshot 1" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_02.jpg" alt="macOS Tahoe Dark screenshot 2" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_03.jpg" alt="macOS Tahoe Dark screenshot 3" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_04.jpg" alt="macOS Tahoe Dark screenshot 4" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_05.jpg" alt="macOS Tahoe Dark screenshot 5" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_06.jpg" alt="macOS Tahoe Dark screenshot 6" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_07.jpg" alt="macOS Tahoe Dark screenshot 7" loading="lazy" />
            <img src="assets/screenshots/Tahoe_dark_08.jpg" alt="macOS Tahoe Dark screenshot 8" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <div class="shots-title">macOS 26 Tahoe â€” Light</div>
          <div class="shots-grid cols-2">
            <img src="assets/screenshots/Tahoe_light_01.jpg" alt="macOS Tahoe Light screenshot 1" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_02.jpg" alt="macOS Tahoe Light screenshot 2" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_03.jpg" alt="macOS Tahoe Light screenshot 3" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_04.jpg" alt="macOS Tahoe Light screenshot 4" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_05.jpg" alt="macOS Tahoe Light screenshot 5" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_06.jpg" alt="macOS Tahoe Light screenshot 6" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_07.jpg" alt="macOS Tahoe Light screenshot 7" loading="lazy" />
            <img src="assets/screenshots/Tahoe_light_08.jpg" alt="macOS Tahoe Light screenshot 8" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <a id="shots-watchos"></a>
          <div class="shots-title">watchOS 26 + Complications</div>
          <div class="shots-grid cols-4">
            <img src="assets/screenshots/Watch_01.png" alt="Apple Watch screenshot" loading="lazy" />
            <img src="assets/screenshots/Watch_complications_01.png" alt="Apple Watch complications screenshot 1" loading="lazy" />
            <img src="assets/screenshots/Watch_complications_02.png" alt="Apple Watch complications screenshot 2" loading="lazy" />
            <img src="assets/screenshots/Watch_complications_03.png" alt="Apple Watch complications screenshot 3" loading="lazy" />
          </div>
        </div>
        <br>
        <div class="shots-group">
          <a id="shots-shortcuts"></a>
          <div class="shots-title">Shortcuts, Widgets, Lock Screen Widgets and Alwaysâ€‘On Display</div>
          <div class="shots-grid cols-3">
            <img src="assets/screenshots/Shortcuts.png" alt="Shortcuts" loading="lazy" />
            <img src="assets/screenshots/Widget_light.png" alt="Widgets light" loading="lazy" />
            <img src="assets/screenshots/Widgets_dark.png" alt="Widgets dark" loading="lazy" />
            <img src="assets/screenshots/Widgets_clear.png" alt="Widgets clear" loading="lazy" />
            <img src="assets/screenshots/Widgets_tinted.png" alt="Widgets tinted" loading="lazy" />
            <img src="assets/screenshots/Always_on_display.png" alt="Alwaysâ€‘On Display" loading="lazy" />
            <img src="assets/screenshots/Lockscreen_widgets.png" alt="Lock Screen widgets" loading="lazy" />
          </div>
        </div>

      </section>

      
    </main>

    <footer>
      <div class="muted">  LifePace Press Kit â€¢ 2025 Cesare Forelli</div>
    </footer>
  </div>

  <!-- Lightbox overlay -->
  <div id="lightbox" class="lb" role="dialog" aria-modal="true" aria-label="Image viewer" hidden tabindex="-1">
    <button class="lb-btn lb-close" aria-label="Close">Ã—</button>
    <button class="lb-btn lb-prev" aria-label="Previous image">â€¹</button>
    <div class="lb-stage">
      <img class="lb-img" alt="" />
    </div>
    <button class="lb-btn lb-next" aria-label="Next image">â€º</button>
  </div>

  <script>
    // Minimal progressive enhancement: current year + dependency-free lightbox for screenshots
    (function(){
      try { document.getElementById('year').textContent = new Date().getFullYear(); } catch(e){}

      var images = Array.prototype.slice.call(document.querySelectorAll('.hero-media img, #screenshots .shots-grid img'));
      if (!images.length) return;

      var lb = document.getElementById('lightbox');
      var stageImg = lb.querySelector('.lb-img');
      var btnPrev = lb.querySelector('.lb-prev');
      var btnNext = lb.querySelector('.lb-next');
      var btnClose = lb.querySelector('.lb-close');
      var current = 0;
      var touchX = null;

      function update(){
        var img = images[current];
        if (!img) return;
        stageImg.src = img.currentSrc || img.src;
        stageImg.alt = img.alt || ('Screenshot ' + (current+1));
      }

      function open(index){
        current = index;
        update();
        lb.removeAttribute('hidden');
        document.body.classList.add('lb-open');
        lb.focus();
        window.addEventListener('keydown', onKey, true);
      }

      function close(){
        if (lb.hasAttribute('hidden')) return;
        lb.setAttribute('hidden','');
        document.body.classList.remove('lb-open');
        window.removeEventListener('keydown', onKey, true);
      }

      function prev(){ current = (current - 1 + images.length) % images.length; update(); }
      function next(){ current = (current + 1) % images.length; update(); }

      function onKey(e){
        var k = e.key;
        if (k === 'Escape') { e.preventDefault(); close(); }
        else if (k === 'ArrowLeft') { e.preventDefault(); prev(); }
        else if (k === 'ArrowRight') { e.preventDefault(); next(); }
      }

      // Click handlers
      btnPrev.addEventListener('click', prev);
      btnNext.addEventListener('click', next);
      btnClose.addEventListener('click', close);
      lb.addEventListener('click', function(ev){ if (ev.target === lb) close(); });

      // Touch swipe (iOS/Android)
      lb.addEventListener('touchstart', function(ev){
        if (!ev.touches || !ev.touches.length) return;
        touchX = ev.touches[0].clientX;
      }, { passive: true });
      lb.addEventListener('touchend', function(ev){
        if (touchX == null) return;
        var endX = (ev.changedTouches && ev.changedTouches.length) ? ev.changedTouches[0].clientX : touchX;
        var dx = endX - touchX;
        // horizontal swipe threshold ~40px
        if (Math.abs(dx) > 40) { if (dx > 0) prev(); else next(); }
        touchX = null;
      }, { passive: true });

      // Make gallery images focusable and openable via keyboard
      images.forEach(function(img, idx){
        img.style.cursor = 'zoom-in';
        if (!img.hasAttribute('tabindex')) img.setAttribute('tabindex','0');
        img.addEventListener('click', function(){ open(idx); });
        img.addEventListener('keydown', function(e){
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); open(idx); }
        });
      });
    })();
  </script>
</body>
</html>